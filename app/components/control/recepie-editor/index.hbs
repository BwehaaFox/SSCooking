<div class='route-modal'><br />
  <div style='text-align: center;'>
    <Ui::Button @onClick={{this.back}} @title='Закрыть' />
  </div>
  <div class='container is-max-desktop' style='margin-top: 30px'>
    <div class='columns'>

      <div class='column'>
        {{#each this.ingridients key='@index' as |item index|}}
          <div class='box'>
            <Control::SelectField
              @label='Ингридиент'
              @options={{this.ingridients_list}}
              @idKey='id'
              @nameKey='locale'
              @value={{get this.ingridients index}}
              @onChange={{fn this.setIngridientValue 'id' index}}
              @is_search_enabled={{true}}
            />
            <Control::TextField
              @placeholder='Колличество'
              @value={{get (get this.ingridients index) 'count'}}
              @onInput={{fn this.setIngridientValue 'count' index}}
              @type='number'
            />
            <Ui::Button
              @onClick={{fn this.removeIngridient index}}
              @title='Удалить'
            />
          </div>
        {{/each}}
        {{#if this.has_ingridients}}
          <div class='text-right' style='text-align: right;'>
            <Ui::Button
              @onClick={{this.addIngridient}}
              @title='Добавить ингридиент'
            />
          </div>
        {{/if}}
      </div>
      <div class='column'>
        <Control::TextField
          @placeholder='ID Ингридиента'
          @value={{this.recepie.id}}
          @onInput={{fn this.setRecepieValue 'id'}}
        />
        <Control::TextField
          @placeholder='Имя'
          @value={{this.recepie.name}}
          @onInput={{fn this.setRecepieValue 'name'}}
        />
        <Control::TextField
          @placeholder='Локаль'
          @value={{this.recepie.locale}}
          @onInput={{fn this.setRecepieValue 'locale'}}
        />
        <Control::TextField
          @placeholder='Выходное колличество'
          @value={{this.recepie.count}}
          @onInput={{fn this.setRecepieValue 'count'}}
          @type='number'
        />

        <Control::TextField
          @placeholder='Таймер'
          @value={{this.recepie.timer}}
          @onInput={{fn this.setRecepieValue 'timer'}}
          @type='number'
        />

        <Control::TextField
          @placeholder='Группа'
          @value={{this.recepie.group}}
          @onInput={{fn this.setRecepieValue 'group'}}
          @onChange={{this.setDefaultGroup}}
        />

        <div class='columns'>
          <div class='column'>
            <Control::SelectField
              @label='Группа из списка'
              @value={{this.recepie.group}}
              @options={{this.recepies.recepies_groups}}
              @onChange={{fn this.setRecepieValue 'group'}}
            />
          </div>
          <div class='column'>
            <Control::SelectField
              @label='Инструмент'
              @options={{this.tool_list}}
              @value={{this.recepie.tool}}
              @onChange={{fn this.setRecepieValue 'tool'}}
            />
          </div>
        </div>

        <Control::TextField
          @placeholder='Описание'
          @value={{this.recepie.description}}
          @onInput={{fn this.setRecepieValue 'description'}}
          @onChange={{this.setDefaultGroup}}
          @isTextarea={{true}}
        />

        <Ui::Button @onClick={{this.onSave}} @title='Сохранить' />
      </div>
      <div class='column'>
        {{#each this.effects as |item index|}}
          <div class='box'>
            <Control::TextField
              @placeholder='Эффект'
              @value={{get this.effects index}}
              @onInput={{fn this.setEffectValue index}}
              @isTextarea={{true}}
              rows='2'
            />
            <Ui::Button
              @onClick={{fn this.removeEffect index}}
              @title='Удалить'
            />
          </div>
        {{/each}}

        <Ui::Button @onClick={{this.addEffect}} @title='Добавить эффект' />
      </div>
    </div>

  </div>
</div>